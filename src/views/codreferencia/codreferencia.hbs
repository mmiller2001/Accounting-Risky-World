<script>
  const myModal = document.getElementById('myModal')
  const myInput = document.getElementById('myInput')

  myModal.addEventListener('shown.bs.modal', () => {
    myInput.focus()
  })

</script>

<h1 class="display-6">Codigos de Refencia</h1>

<table class="table table-bordered">
  <thead class="thead-dark text-center">
    <tr>
      <th scope="col">Codigo de Referencia ID</th>
      <th scope="col">Codigo</th>
      <th scope="col">Descripcion</th>
      <th scope="col">Explicacion</th>
      <th scope="col">Acciones</th>
    </tr>
  </thead>
  <tbody class="text-center">
    {{#each codreferencia}}
    <tr>
      <th scope="row">{{this.codrefid}}</th>
      <td>{{this.codrefcodigo}}</td>
      <td>{{this.codrefdescripcion}}</td>
      <td>{{this.codrefexplicacion}}</td>
      <td class="text-center">
        <a href="/codreferencia/ver/{{this.codrefid}}" type="buton" class="btn btn-outline-info btn-small"><i
            class="bi bi-eye"></i>Ver</a>
        <a href="/codreferencia/modificar/{{this.codrefid}}" type="buton" class="btn btn-outline-primary btn-small"><i
            class="bi bi-pencil"></i>Modificar</a>
        <a href="/codreferencia/eliminar/{{this.codrefid}}" type="buton" class="btn btn-outline-danger btn-small"  data-bs-toggle="modal" data-bs-target="#staticBackdrop{{this.codrefid}}" data-target={{this.codrefid}}><i
            class="bi bi-person-x"></i>Eliminar</a>
      </td>

      {{!-- New --}}
      <!-- Modal -->
      <div class="modal fade" id="staticBackdrop{{this.codrefid}}" data-bs-backdrop="static" data-bs-keyboard="false"
        tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true" value={{this.cofrefid}}>
        <div class="modal-dialog text-center">
          <div class="modal-content">
            <div class="modal-header text-center">
              <h5 class="modal-title w-100" id="staticBackdropLabel">Eliminar
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body ">
              Confirme eliminacion del Codigo de Referencia
              <hr>
              <p class="card-text"><strong>Codigo de Referencia ID:</strong> {{this.codrefid}}</p>
              <p class="card-text"><strong>Codigo:</strong> {{this.codrefcodigo}}</p>
              <p class="card-text"><strong>Usuario:</strong> {{this.usuarionombre}}</p>
              <p class="card-text"><strong>Descripcion:</strong> {{this.codrefdescripcion}}</p>
            </div>
            <div class="modal-footer d-flex justify-content-between">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
              <a type="button" class="btn btn-outline-danger yes"
                href="/codreferencia/eliminar/{{this.codrefid}}">Eliminar</a>
            </div>
          </div>
        </div>
      </div>
      {{!-- New --}}
    </tr>
    {{/each}}

  </tbody>
</table>

{{#if message}}
<div class="alert alert-danger mx-auto alert-dismissible fade show text-center" role="alert" style="max-width: 40rem;">
  {{message}}
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
{{/if}}

{{#if success}}
<div class="alert alert-success mx-auto alert-dismissible fade show text-center" role="alert" style="max-width: 40rem;">
  {{success}}
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
{{/if}}

<div class="row">
  <div class="col-6 d-flex justify-content-end">
    <a href="/codreferencia/mas" type="button" class="btn btn-primary align-self-center">Agregar Codigo Referencia</a>
  </div>
</div>